<!DOCTYPE html>

<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   
    
   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous" >
   
  
    
</head>
<body id="body">
        
       
   
    <div class="container">
      <h1>校務系統通知說明</h1>
        <div class="row">
		
	   

		<h3>1. 建立資料庫:

		在sql資料夾create_tables.txt, 執行此sql將建立兩個資料表, 結構如下：
		</h3>

		<table class="table table-striped table-bordered">
		  <tr>
		     <th colspan="2">資料表名稱 Notices</th>
		  </tr>
		   <tr>
		       <td>Id</td>
			   <td>主鍵,數字,免填</td>
		   </tr>
		   <tr>
		       <td>Content</td>
			   <td>文字,內容.</td>
		   </tr
		   <tr>
		       <td>Staff</td>
			   <td>boolean,是否傳給職員.</td>
		   </tr>
		   <tr>
		       <td>Teacher</td>
			    <td>boolean,是否傳給教師.</td>
		   </tr>
		    <tr>
		       <td>Student</td>
			    <td>boolean,是否傳給學生.</td>
		   </tr>
		    <tr>
		       <td>Units</td>
			    <td>字串,要傳給那些單位.請填入單位的代碼,以逗號分隔. 例如:104000,105000,103010 (只傳給學生免填)</td>
		   </tr>
		   <tr>
		       <td>Classes</td>
			    <td>字串,要傳給那些班級.請填入班級的代碼,以逗號分隔. 例如:ID41A,ID41B (沒有要傳給學生就免填)</td>
		   </tr>
		   <tr>
		       <td>Levels</td>
			    <td>字串, 只傳給一級主管填1 , 只傳給一級主管填2 , 只傳給一級與二級主管填1,2</td>
		   </tr>
		   <tr>
		       <td>Reviewed</td>
			    <td>boolean, 是否審核通過 (審核通過才會執行Teamplus訊息同步)</td>
		   </tr>
		   <tr>
		       <td>CreatedBy</td>
			    <td>字串, 建檔單位代碼</td>
		   </tr>
		   <tr>
		       <td>UpdatedBy</td>
			    <td>字串, 更新者的使用者Id. 用來追蹤誰最後更新了資料</td>
		   </tr>
		   <tr>
		       <td>ReviewedBy</td>
			    <td>字串, 審核者的使用者Id. 用來追蹤是誰核准此通知</td>
		   </tr>
		   <tr>
		       <td>CreatedAt</td>
			    <td>datetime, 紀錄建檔時間</td>
		   </tr>
		   <tr>
		       <td>UpdatedAt</td>
			    <td>datetime, 紀錄最後更新時間</td>
		   </tr>
		   <tr>
		       <td>ReviewedAt</td>
			    <td>datetime, 紀錄審核通過時間</td>
		   </tr>
		</table>
		
		
		
		
		<table class="table table-striped table-bordered">
		  <tr>
		     <th colspan="2">資料表名稱 NoticeAttachment  </th>
		  </tr>
		   <tr>
		       <td>Id</td>
			   <td>主鍵,數字,免填</td>
		   </tr>
		   <tr>
		       <td>Notice_Id</td>
			   <td>來自Notice的外鍵</td>
		   </tr>
		   <tr>
		       <td>Title</td>
			   <td>文字,附件檔案的顯示名稱. 例如:106學年度清寒獎學金申請說明</td>
		   </tr
		   <tr>
		       <td>FileData</td>
			   <td>nvarchar(max),經base64編碼的檔案內容.</td>
		   </tr>
		   <tr>
		       <td>Name</td>
			    <td>文字,上傳的檔案名稱. 例如: desc1060925.docx</td>
		   </tr>
		    <tr>
		       <td>Type</td>
			    <td>文字,檔案類型(副檔名). 例如docx, gif</td>
		   </tr>
		   
		   <tr>
		       <td>CreatedBy</td>
			    <td>字串, 建檔單位代碼</td>
		   </tr>
		   <tr>
		       <td>UpdatedBy</td>
			    <td>字串, 更新者的使用者Id. 用來追蹤誰最後更新了資料</td>
		   </tr>
		   
		   <tr>
		       <td>CreatedAt</td>
			    <td>datetime, 紀錄建檔時間</td>
		   </tr>
		   <tr>
		       <td>UpdatedAt</td>
			    <td>datetime, 紀錄最後更新時間</td>
		   </tr>
		   
		</table>

        </div>

       <div class="row">

		<h3>2. 修改存取資料庫的程式碼: 在 sevice.php
		</h3>
		
		 <ul>
		   
			<li>
			     sevice.php裡面的程式碼經過測試可用. 所以只修改ip ,db_name ,username , password 大致可用.
			</li>
			
			<li>
			
			   建議您依據經驗修改service.php裡面存取資料庫的程式, 因為我對這種寫法是第一次使用很陌生, 例如我不曉得是否需要關閉連結等等細節, 可能會有疏漏.
			</li>
		 </ul>
		
     </div>
    </div><!-- /.container -->

</body>
</html>




</div>